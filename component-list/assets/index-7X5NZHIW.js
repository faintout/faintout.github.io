import{r as o,c as B,a as D,o as _,b as f,d as n,F as P,e as j,n as C,f as E,w as A,u as $,g as F,h as N,i as k,t as R,p as z,j as G}from"./index-A1C1WUBq.js";import{_ as S}from"./_plugin-vue_export-helper-x3n3nnut.js";const U=a=>(z("data-v-255447c8"),a=a(),G(),a),X={class:"hot-bar"},q={class:"time-gap-area"},J={class:"time"},K=U(()=>n("div",{class:"gap"},null,-1)),O={class:"color-box"},Q={__name:"hot-bar",props:{hotTimeList:{type:Array,default:()=>[]}},emits:["handleCompleteIndex"],setup(a,{emit:d}){const p=d,i=a,v=o(null),r=o(null),c=o(0),m=o(!1),x=B(()=>100/(i.hotTimeList.length-1)),g=o(!1),h=o(!1),V=t=>{g.value=!0,window.addEventListener("mousemove",T),window.addEventListener("mouseup",y),w(t)},T=t=>{g.value&&(h.value=!0,w(t))},H=()=>{const t=Math.max(...i.hotTimeList.map(l=>l.value));return`linear-gradient(to right, ${i.hotTimeList.map((l,u)=>{const e=l.value/t*100,I=F(e),M=u/(i.hotTimeList.length-1)*100;return`${I} ${M}%`}).join(", ")})`},w=async t=>{var M;const{clientX:s}=t,{left:l,width:u}=r.value.getBoundingClientRect();let e=(s-l)/u*100;e=Math.max(0,Math.min(e,100));const I=Math.round(e/x.value);c.value=I,await N(),L(),(M=v.value)==null||M.updatePopper()},L=k(()=>{m.value=!0},50),b=k(()=>{m.value=!1},50),y=t=>{g.value=!1,h.value=!1,b(),p("handleCompleteIndex",c.value),window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",y)};return(t,s)=>{var u;const l=D("el-tooltip");return _(),f("div",X,[n("div",q,[(_(!0),f(P,null,j(a.hotTimeList,(e,I)=>(_(),f("div",{class:"time-gap-item",key:e.time},[n("div",J,R(e.time),1),K]))),128))]),n("div",O,[n("div",{class:"color-line",style:C({backgroundImage:H()}),ref_key:"colorLineRef",ref:r,onMousedown:V},[E(l,{ref_key:"toolTipRef",ref:v,manual:"",visible:m.value,"stop-popper-mouse-event":!1,content:(u=a.hotTimeList[c.value])==null?void 0:u.time},{default:A(()=>[n("div",{onMouseenter:s[0]||(s[0]=e=>!h.value&&$(L)()),onMouseleave:s[1]||(s[1]=e=>!h.value&&$(b)()),style:C({left:c.value*x.value+"%"}),class:"handle-bar-icon",src:""},null,36)]),_:1},8,["visible","content"])],36)])])}}},W=S(Q,[["__scopeId","data-v-255447c8"]]),Y={class:"hot-bar-area"},Z={class:"show-time"},ee={__name:"index",setup(a){const d=o(0),p=o([{time:"00:00",value:parseInt(Math.random()*100)},{time:"01:00",value:parseInt(Math.random()*100)},{time:"02:00",value:parseInt(Math.random()*100)},{time:"03:00",value:parseInt(Math.random()*100)},{time:"04:00",value:parseInt(Math.random()*100)},{time:"05:00",value:parseInt(Math.random()*100)},{time:"06:00",value:parseInt(Math.random()*100)},{time:"07:00",value:parseInt(Math.random()*100)},{time:"08:00",value:parseInt(Math.random()*100)},{time:"09:00",value:parseInt(Math.random()*100)},{time:"10:00",value:parseInt(Math.random()*100)},{time:"11:00",value:parseInt(Math.random()*100)},{time:"12:00",value:parseInt(Math.random()*100)},{time:"13:00",value:parseInt(Math.random()*100)},{time:"14:00",value:parseInt(Math.random()*100)},{time:"15:00",value:parseInt(Math.random()*100)},{time:"16:00",value:parseInt(Math.random()*100)},{time:"17:00",value:parseInt(Math.random()*100)},{time:"18:00",value:parseInt(Math.random()*100)},{time:"19:00",value:parseInt(Math.random()*100)},{time:"20:00",value:parseInt(Math.random()*100)},{time:"21:00",value:parseInt(Math.random()*100)},{time:"22:00",value:parseInt(Math.random()*100)},{time:"23:00",value:parseInt(Math.random()*100)}]),i=B(()=>p.value[d.value]),v=r=>{r!==d.value&&(d.value=r)};return(r,c)=>{var m;return _(),f("div",null,[n("div",Y,[n("div",Z,R((m=i.value)==null?void 0:m.time),1),E(W,{onHandleCompleteIndex:v,hotTimeList:p.value},null,8,["hotTimeList"])])])}}},oe=S(ee,[["__scopeId","data-v-e86e96cf"]]);export{oe as default};
