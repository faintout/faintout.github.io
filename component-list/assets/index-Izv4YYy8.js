import{r as d,c as U,a as x,o as S,b as u,d as t,F as R,e as H,t as C,n as M,f as L,w as D,u as V,g as q,h as z,i as $,p as G,j as X,k as J}from"./index-_FMcZ7Ki.js";import{_ as P}from"./plugin-vueexport-helper-x3n3nnut.js";const h=e=>(G("data-v-003a74e9"),e=e(),X(),e),K={class:"hot-bar"},O={class:"time-gap-area"},Q={class:"time"},W=h(()=>t("div",{class:"gap"},null,-1)),Y={class:"time-gap-item"},Z={class:"time"},tt=h(()=>t("div",{class:"gap"},null,-1)),et={class:"color-box"},ot=h(()=>t("div",{class:"left"},null,-1)),it=h(()=>t("div",{class:"center"},null,-1)),rt=h(()=>t("div",{class:"right"},null,-1)),at=[ot,it,rt],dt={__name:"hot-bar",props:{hotTimeList:{type:Array,default:()=>[]}},emits:["handleCompleteIndex"],setup(e,{expose:m,emit:_}){const f=_,s=e,g=d(null),v=d(null),i=d(0),E=d(!1),F=U(()=>100/s.hotTimeList.length),r=d(!1),w=d(!1),j=o=>{r.value=!0,window.addEventListener("mousemove",y),window.addEventListener("mouseup",B),I(o)},y=o=>{r.value&&(w.value=!0,I(o))},A=()=>{const o=Math.max(...s.hotTimeList.map(l=>l.arrivedFlow));return`linear-gradient(to right, ${s.hotTimeList.map((l,c)=>{const n=l.arrivedFlow/o*100,a=q(n),T=c/(s.hotTimeList.length-1)*100;return`${a} ${T}%`}).join(", ")})`},I=async o=>{var T;const{clientX:p}=o,{left:l,width:c}=v.value.getBoundingClientRect();let n=(p-l)/c*100;n=Math.max(0,Math.min(n,99));const a=Math.round(n/F.value);i.value=a,await z(),b(),(T=g.value)==null||T.updatePopper()},N=o=>{i.value=o},b=$(()=>{E.value=!0},50),k=$(()=>{E.value=!1},50),B=o=>{r.value=!1,w.value=!1,k(),f("handleCompleteIndex",i.value),window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",B)};return m({updateHotBarIndex:N}),(o,p)=>{var c,n;const l=x("el-tooltip");return S(),u("div",K,[t("div",O,[(S(!0),u(R,null,H(e.hotTimeList.filter((a,T)=>T%4===0),(a,T)=>(S(),u("div",{class:"time-gap-item",key:a.potStartTime},[t("div",Q,C(a.potStartTime),1),W]))),128)),t("div",Y,[t("div",Z,C(e.hotTimeList[e.hotTimeList.length-1].potEndTime),1),tt])]),t("div",et,[t("div",{class:"color-line",style:M({background:A()}),ref_key:"colorLineRef",ref:v,onMousedown:j},[L(l,{ref_key:"toolTipRef",ref:g,manual:"",visible:E.value,"stop-popper-mouse-event":!1,content:((c=e.hotTimeList[i.value])==null?void 0:c.potStartTime)+" - "+((n=e.hotTimeList[i.value])==null?void 0:n.potEndTime)},{default:D(()=>[t("div",{onMouseenter:p[0]||(p[0]=a=>!w.value&&V(b)()),onMouseleave:p[1]||(p[1]=a=>!w.value&&V(k)()),style:M({left:i.value*F.value+"%",width:F.value+"%"}),class:"handle-bar-icon"},at,36)]),_:1},8,["visible","content"])],36)])])}}},nt=P(dt,[["__scopeId","data-v-003a74e9"]]),mt={class:"hot-bar-area"},pt={class:"show-time"},lt={__name:"index",setup(e){const m=d(0),_=d(null),f=d([{potStartTime:"00:00",potEndTime:"00:15",arrivedFlow:20},{potStartTime:"00:15",potEndTime:"00:30",arrivedFlow:20},{potStartTime:"00:30",potEndTime:"00:45",arrivedFlow:20},{potStartTime:"00:45",potEndTime:"01:00",arrivedFlow:16},{potStartTime:"01:00",potEndTime:"01:15",arrivedFlow:0},{potStartTime:"01:15",potEndTime:"01:30",arrivedFlow:0},{potStartTime:"01:30",potEndTime:"01:45",arrivedFlow:8},{potStartTime:"01:45",potEndTime:"02:00",arrivedFlow:4},{potStartTime:"02:00",potEndTime:"02:15",arrivedFlow:4},{potStartTime:"02:15",potEndTime:"02:30",arrivedFlow:0},{potStartTime:"02:30",potEndTime:"02:45",arrivedFlow:4},{potStartTime:"02:45",potEndTime:"03:00",arrivedFlow:0},{potStartTime:"03:00",potEndTime:"03:15",arrivedFlow:0},{potStartTime:"03:15",potEndTime:"03:30",arrivedFlow:0},{potStartTime:"03:30",potEndTime:"03:45",arrivedFlow:8},{potStartTime:"03:45",potEndTime:"04:00",arrivedFlow:0},{potStartTime:"04:00",potEndTime:"04:15",arrivedFlow:0},{potStartTime:"04:15",potEndTime:"04:30",arrivedFlow:4},{potStartTime:"04:30",potEndTime:"04:45",arrivedFlow:0},{potStartTime:"04:45",potEndTime:"05:00",arrivedFlow:4},{potStartTime:"05:00",potEndTime:"05:15",arrivedFlow:0},{potStartTime:"05:15",potEndTime:"05:30",arrivedFlow:0},{potStartTime:"05:30",potEndTime:"05:45",arrivedFlow:4},{potStartTime:"05:45",potEndTime:"06:00",arrivedFlow:4},{potStartTime:"06:00",potEndTime:"06:15",arrivedFlow:8},{potStartTime:"06:15",potEndTime:"06:30",arrivedFlow:4},{potStartTime:"06:30",potEndTime:"06:45",arrivedFlow:4},{potStartTime:"06:45",potEndTime:"07:00",arrivedFlow:36},{potStartTime:"07:00",potEndTime:"07:15",arrivedFlow:40},{potStartTime:"07:15",potEndTime:"07:30",arrivedFlow:48},{potStartTime:"07:30",potEndTime:"07:45",arrivedFlow:60},{potStartTime:"07:45",potEndTime:"08:00",arrivedFlow:104},{potStartTime:"08:00",potEndTime:"08:15",arrivedFlow:136},{potStartTime:"08:15",potEndTime:"08:30",arrivedFlow:104},{potStartTime:"08:30",potEndTime:"08:45",arrivedFlow:120},{potStartTime:"08:45",potEndTime:"09:00",arrivedFlow:200},{potStartTime:"09:00",potEndTime:"09:15",arrivedFlow:116},{potStartTime:"09:15",potEndTime:"09:30",arrivedFlow:152},{potStartTime:"09:30",potEndTime:"09:45",arrivedFlow:128},{potStartTime:"09:45",potEndTime:"10:00",arrivedFlow:136},{potStartTime:"10:00",potEndTime:"10:15",arrivedFlow:120},{potStartTime:"10:15",potEndTime:"10:30",arrivedFlow:64},{potStartTime:"10:30",potEndTime:"10:45",arrivedFlow:60},{potStartTime:"10:45",potEndTime:"11:00",arrivedFlow:40},{potStartTime:"11:00",potEndTime:"11:15",arrivedFlow:88},{potStartTime:"11:15",potEndTime:"11:30",arrivedFlow:36},{potStartTime:"11:30",potEndTime:"11:45",arrivedFlow:92},{potStartTime:"11:45",potEndTime:"12:00",arrivedFlow:108},{potStartTime:"12:00",potEndTime:"12:15",arrivedFlow:76},{potStartTime:"12:15",potEndTime:"12:30",arrivedFlow:116},{potStartTime:"12:30",potEndTime:"12:45",arrivedFlow:124},{potStartTime:"12:45",potEndTime:"13:00",arrivedFlow:68},{potStartTime:"13:00",potEndTime:"13:15",arrivedFlow:80},{potStartTime:"13:15",potEndTime:"13:30",arrivedFlow:84},{potStartTime:"13:30",potEndTime:"13:45",arrivedFlow:64},{potStartTime:"13:45",potEndTime:"14:00",arrivedFlow:116},{potStartTime:"14:00",potEndTime:"14:15",arrivedFlow:140},{potStartTime:"14:15",potEndTime:"14:30",arrivedFlow:104},{potStartTime:"14:30",potEndTime:"14:45",arrivedFlow:156},{potStartTime:"14:45",potEndTime:"15:00",arrivedFlow:116},{potStartTime:"15:00",potEndTime:"15:15",arrivedFlow:100},{potStartTime:"15:15",potEndTime:"15:30",arrivedFlow:136},{potStartTime:"15:30",potEndTime:"15:45",arrivedFlow:92},{potStartTime:"15:45",potEndTime:"16:00",arrivedFlow:124},{potStartTime:"16:00",potEndTime:"16:15",arrivedFlow:84},{potStartTime:"16:15",potEndTime:"16:30",arrivedFlow:104},{potStartTime:"16:30",potEndTime:"16:45",arrivedFlow:80},{potStartTime:"16:45",potEndTime:"17:00",arrivedFlow:76},{potStartTime:"17:00",potEndTime:"17:15",arrivedFlow:132},{potStartTime:"17:15",potEndTime:"17:30",arrivedFlow:80},{potStartTime:"17:30",potEndTime:"17:45",arrivedFlow:120},{potStartTime:"17:45",potEndTime:"18:00",arrivedFlow:96},{potStartTime:"18:00",potEndTime:"18:15",arrivedFlow:116},{potStartTime:"18:15",potEndTime:"18:30",arrivedFlow:44},{potStartTime:"18:30",potEndTime:"18:45",arrivedFlow:96},{potStartTime:"18:45",potEndTime:"19:00",arrivedFlow:48},{potStartTime:"19:00",potEndTime:"19:15",arrivedFlow:76},{potStartTime:"19:15",potEndTime:"19:30",arrivedFlow:64},{potStartTime:"19:30",potEndTime:"19:45",arrivedFlow:56},{potStartTime:"19:45",potEndTime:"20:00",arrivedFlow:36},{potStartTime:"20:00",potEndTime:"20:15",arrivedFlow:44},{potStartTime:"20:15",potEndTime:"20:30",arrivedFlow:36},{potStartTime:"20:30",potEndTime:"20:45",arrivedFlow:40},{potStartTime:"20:45",potEndTime:"21:00",arrivedFlow:28},{potStartTime:"21:00",potEndTime:"21:15",arrivedFlow:24},{potStartTime:"21:15",potEndTime:"21:30",arrivedFlow:44},{potStartTime:"21:30",potEndTime:"21:45",arrivedFlow:36},{potStartTime:"21:45",potEndTime:"22:00",arrivedFlow:12},{potStartTime:"22:00",potEndTime:"22:15",arrivedFlow:32},{potStartTime:"22:15",potEndTime:"22:30",arrivedFlow:36},{potStartTime:"22:30",potEndTime:"22:45",arrivedFlow:24},{potStartTime:"22:45",potEndTime:"23:00",arrivedFlow:52},{potStartTime:"23:00",potEndTime:"23:15",arrivedFlow:24},{potStartTime:"23:15",potEndTime:"23:30",arrivedFlow:32},{potStartTime:"23:30",potEndTime:"23:45",arrivedFlow:12},{potStartTime:"23:45",potEndTime:"24:00",arrivedFlow:0}]),s=v=>{v!==m.value&&(m.value=v)},g=()=>{_.value.updateHotBarIndex(m.value)};return(v,i)=>{const E=x("el-option"),F=x("el-select");return S(),u("div",null,[t("div",mt,[t("div",pt,[L(F,{modelValue:m.value,"onUpdate:modelValue":i[0]||(i[0]=r=>m.value=r),"popper-class":"custom-query-select",placeholder:"请选择",onChange:g},{default:D(()=>[(S(!0),u(R,null,H(f.value,(r,w)=>(S(),J(E,{label:r.potStartTime+" - "+r.potEndTime,value:w,key:r.potStartTime},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),L(nt,{ref_key:"hotBarRef",ref:_,onHandleCompleteIndex:s,hotTimeList:f.value},null,8,["hotTimeList"])])])}}},vt=P(lt,[["__scopeId","data-v-501f9873"]]);export{vt as default};
